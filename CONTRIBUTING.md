# Contributing

## Branches

We use a two-tiered branch organization to keep `master` in a releasable state for auto publishing the component library as a package.

- `master`: production branch
- `dev`: development branch

All changes should be **squash and merged** into `dev`. There shouldn't ever be any direct changes made to `master`.

## Changelog

The CHANGELOG is autogenerated using [Standard Version](https://github.com/conventional-changelog/standard-version).

1. To generate a new CHANGELOG, run `npm run release`
2. If there are changes, amend the last commit with your staged changes

The CHANGELOG should be separated into these parts based on commit conventions:

- Features: feat
- Improvements: build, ci, docs, style, test
- Bug Fixes: fix

## Commits

Commits are written following [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) syntax.

All commits should follow this format: `<type>: <description>`

If a commit contains a breaking change, it should be formatted like this: `<type>!: <description>`

Here are accepted types so far (that have also been configured for CHANGELOG autogeneration):

- build: changes to build system or external dependencies
- ci: changes to CI config, files, and scripts
- docs: changes to documentation
- feat: new features
- fix: bug fixes
- perf: changes that improve performance
- style: style updates, changes that don't affect code
- test: changes to tests

## Releases

Creating a new release and publishing the package are currently done manually.

1. Checkout `dev` branch
2. Autogenerate the changelog
3. Create a pull request from `dev` into `master`
4. Name the pull request after the release version, i.e. `v1.3.0`
5. After all checks have passed, **rebase and merge** into `master`.
6. Checkout `master` branch and pull the latest changes
7. Run `npm run build` locally for the package to bundle into `/dist` folder
8. Run `npm publish` locally to submit the package to the Github Package Registry

_This section will be updated once auto publish has been setup._

## Semantic Versioning

We use [Semantic Versioning](https://semver.org/) for package version numbering in this format: `major.minor.patch`.

- Major: breaking changes
- Minor: new features
- Patch: improvements, bug fixes

All significant changes are documented in the [CHANGELOG](https://github.com/TheSweaterGuys/nucleus-style/blob/master/CHANGELOG.md) and in the [Releases tab](https://github.com/TheSweaterGuys/nucleus-style/releases).
